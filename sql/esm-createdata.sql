DROP TABLE IF EXISTS ProjectDetails;
DROP TABLE IF EXISTS Projects; 
DROP TABLE IF EXISTS Clients; 
DROP TABLE IF EXISTS EmployeeSkills;
DROP TABLE IF EXISTS Employees;
-- Create Clients Table
CREATE TABLE Clients (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    description TEXT
);


-- Create the Projects Table
CREATE TABLE Projects (
    project_id INT AUTO_INCREMENT PRIMARY KEY, -- Project ID
    client_id INT,                             -- Foreign key referencing Clients table
    focus_area VARCHAR(255),                  -- Focus area of the project
	description TEXT,                       -- Description of the project
    isSecret BOOLEAN,                         -- Whether the project is confidential
    FOREIGN KEY (client_id) REFERENCES Clients(id)  -- Foreign key constraint to Clients table
);


-- Create Employees Table with projectID reference
CREATE TABLE Employees (
    employee_id INT AUTO_INCREMENT PRIMARY KEY, -- Employee ID (multiple rows per employee)
    name VARCHAR(255) NOT NULL,                -- First name of the employee
    lastname VARCHAR(255) NOT NULL,            -- Last name of the employee
    focus_area VARCHAR(255)                   -- The focus area of the employee
);

CREATE TABLE ProjectDetails (
	project_id INT,							-- references a project
    employee_id INT,						-- references an employee participating on a project
    PRIMARY KEY (project_id, employee_id),  -- composite primary key to ensure single employee cannot be added to the same project multiple times
    employee_role VARCHAR(64),				-- Employee's role on the project
    FOREIGN KEY (employee_id) REFERENCES Employees(employee_id),
	FOREIGN KEY (project_id) REFERENCES Projects(project_id)
);

CREATE TABLE Skills (
	skill_id INT PRIMARY KEY,				   -- skill id
    skill_class VARCHAR(255),                  -- Skill classification
    skill VARCHAR(255)                        -- The specific skill
);

CREATE TABLE EmployeeSkills (
	employee_id INT,							-- referencing an employee
    skill_id INT,								-- referencing a skill
    PRIMARY KEY (skill_id, employee_id),		-- ensures that employee doesnt add the same skill more than once
	skill_level INT,                            -- The skill level
    FOREIGN KEY (employee_id) REFERENCES Employees(employee_id),
	FOREIGN KEY (skill_id) REFERENCES Skills(skill_id)
);



-- some sample data generated by chatgpt

INSERT INTO Clients (name, description) VALUES 
('Acme Corp', 'A global technology solutions provider.'),
('InnovateX', 'A leader in AI-driven innovation.'),
('Green Earth', 'Focused on sustainable and eco-friendly products.'),
('Tech Solutions', 'Offers a wide range of IT solutions and services.'),
('Future Vision', 'An R&D company pushing the boundaries of technology.');

INSERT INTO Projects (client_id, focus_area, description, isSecret) VALUES 
(1, 'AI Development', 'AI-based solutions for automation.', FALSE),
(2, 'Blockchain R&D', 'Innovative solutions in blockchain technology.', TRUE),
(3, 'Sustainability Solutions', 'Eco-friendly and sustainable products development.', FALSE),
(4, 'Cloud Computing', 'Building cloud infrastructure and services.', FALSE),
(5, 'Quantum Computing', 'Exploring the future of quantum computing.', TRUE);

INSERT INTO Employees (name, lastname, focus_area) VALUES
('John', 'Doe', 'Software Engineering'),
('Jane', 'Smith', 'Data Science'),
('Robert', 'Johnson', 'Cybersecurity'),
('Emily', 'Davis', 'Blockchain Development'),
('Michael', 'Brown', 'Cloud Infrastructure');

INSERT INTO Skills (skill_id, skill_class, skill) VALUES
(1, 'Programming Languages', 'Python'),
(2, 'Programming Languages', 'Java'),
(3, 'Frameworks', 'Django'),
(4, 'Frameworks', 'Spring'),
(5, 'DevOps', 'Docker'),
(6, 'DevOps', 'Kubernetes'),
(7, 'Databases', 'PostgreSQL'),
(8, 'Databases', 'MySQL'),
(9, 'Version Control', 'Git'),
(10, 'Testing', 'JUnit'),
(11, 'Programming Languages', 'R'),
(12, 'Data Analysis', 'Pandas'),
(13, 'Data Visualization', 'Matplotlib'),
(14, 'Machine Learning', 'scikit-learn'),
(15, 'Deep Learning', 'TensorFlow'),
(16, 'Databases', 'SQL'),
(17, 'Statistics', 'Bayesian Inference'),
(18, 'Big Data', 'Hadoop'),
(19, 'Big Data', 'Spark'),
(20, 'Cybersecurity', 'Network Security'),
(21, 'Cybersecurity', 'Penetration Testing'),
(22, 'Cybersecurity', 'Firewalls'),
(23, 'Cybersecurity', 'Intrusion Detection'),
(24, 'Cybersecurity', 'Ethical Hacking'),
(25, 'Operating Systems', 'Linux'),
(26, 'Networking', 'TCP/IP'),
(27, 'Programming Languages', 'Bash'),
(28, 'Blockchain', 'Ethereum'),
(29, 'Blockchain', 'Solidity'),
(30, 'Blockchain', 'Smart Contracts'),
(31, 'Blockchain', 'Hyperledger'),
(32, 'Programming Languages', 'JavaScript'),
(33, 'Programming Languages', 'Go'),
(34, 'Frameworks', 'Node.js'),
(35, 'Cloud', 'AWS'),
(36, 'Cloud', 'Azure'),
(37, 'Cloud', 'Google Cloud'),
(38, 'DevOps', 'Terraform'),
(39, 'Cloud', 'Serverless Architecture'),
(40, 'Networking', 'Load Balancing'),
(41, 'Networking', 'CDN');
-- Skills for Employee 1 (John Doe)
INSERT INTO EmployeeSkills (employee_id, skill_id, skill_level) VALUES
(1, 1, 5),  -- Python
(1, 2, 4),  -- Java
(1, 3, 4),  -- Django
(1, 4, 3),  -- Spring
(1, 5, 4),  -- Docker
(1, 6, 3),  -- Kubernetes
(1, 7, 4),  -- PostgreSQL
(1, 8, 5),  -- MySQL
(1, 9, 5),  -- Git
(1, 10, 3); -- JUnit

-- Skills for Employee 2 (Jane Smith)
INSERT INTO EmployeeSkills (employee_id, skill_id, skill_level) VALUES
(2, 11, 5),  -- R
(2, 1, 5),   -- Python
(2, 12, 5),  -- Pandas
(2, 13, 4),  -- Matplotlib
(2, 14, 5),  -- scikit-learn
(2, 15, 4),  -- TensorFlow
(2, 16, 4),  -- SQL
(2, 17, 5),  -- Bayesian Inference
(2, 18, 3),  -- Hadoop
(2, 19, 4);  -- Spark

-- Skills for Employee 3 (Robert Johnson)
INSERT INTO EmployeeSkills (employee_id, skill_id, skill_level) VALUES
(3, 20, 5),  -- Network Security
(3, 21, 4),  -- Penetration Testing
(3, 1, 4),   -- Python
(3, 22, 5),  -- Firewalls
(3, 23, 4),  -- Intrusion Detection
(3, 24, 5),  -- Ethical Hacking
(3, 25, 5),  -- Linux
(3, 26, 4),  -- TCP/IP
(3, 27, 3);  -- Bash

-- Skills for Employee 4 (Emily Davis)
INSERT INTO EmployeeSkills (employee_id, skill_id, skill_level) VALUES
(4, 28, 4),  -- Ethereum
(4, 29, 5),  -- Solidity
(4, 30, 5),  -- Smart Contracts
(4, 31, 4),  -- Hyperledger
(4, 32, 4),  -- JavaScript
(4, 33, 3),  -- Go
(4, 34, 4),  -- Node.js
(4, 5, 3),   -- Docker
(4, 6, 3),   -- Kubernetes
(4, 8, 4);   -- MongoDB

-- Skills for Employee 5 (Michael Brown)
INSERT INTO EmployeeSkills (employee_id, skill_id, skill_level) VALUES
(5, 35, 5),  -- AWS
(5, 36, 4),  -- Azure
(5, 37, 4),  -- Google Cloud
(5, 1, 4),   -- Python
(5, 6, 4),   -- Kubernetes
(5, 38, 3),  -- Terraform
(5, 39, 4),  -- Serverless Architecture
(5, 40, 4),  -- Load Balancing
(5, 41, 3),  -- CDN
(5, 9, 5);   -- Git

-- Project Details for Employee 1 (John Doe)
INSERT INTO ProjectDetails (project_id, employee_id, employee_role) VALUES
(1, 1, 'Lead Developer'),
(2, 1, 'Backend Developer');

-- Project Details for Employee 2 (Jane Smith)
INSERT INTO ProjectDetails (project_id, employee_id, employee_role) VALUES
(3, 2, 'Data Scientist'),
(4, 2, 'Machine Learning Engineer');

-- Project Details for Employee 3 (Robert Johnson)
INSERT INTO ProjectDetails (project_id, employee_id, employee_role) VALUES
(5, 3, 'Security Specialist'),
(2, 3, 'Penetration Tester');

-- Project Details for Employee 4 (Emily Davis)
INSERT INTO ProjectDetails (project_id, employee_id, employee_role) VALUES
(3, 4, 'Blockchain Developer'),
(5, 4, 'Smart Contract Engineer');

-- Project Details for Employee 5 (Michael Brown)
INSERT INTO ProjectDetails (project_id, employee_id, employee_role) VALUES
(1, 5, 'Cloud Architect'),
(4, 5, 'DevOps Engineer');
